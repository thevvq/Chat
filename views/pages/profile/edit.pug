extends ../../layouts/default

block contentList
    // Dùng container mới để áp dụng CSS Glassmorphism cho Sidebar
    .profile-edit-container-list 
        h3 Chỉnh sửa thông tin cá nhân

        form(action="/profile/edit" method="POST" enctype="multipart/form-data")

            // 1. Avatar Preview & Upload
            .form-group.avatar-preview-list
                // Ảnh đại diện hiện tại (Dùng class 'avatar' để lấy viền gradient)
                img#avatarPreview(src=user.avatar alt="Avatar hiện tại" class='avatar') 

                .upload-control-group 
                    // Label cho "Chọn ảnh đại diện" (đã được căn giữa bằng CSS)
                    label.form-label(for="avatarInput") Chọn ảnh đại diện
                    .file-input-wrapper-list 
                        // Nút "Tải lên"
                        label(for="avatarInput" class="file-button") Tải lên 
                        // Input file bị ẩn
                        input(type="file" name="avatar" id="avatarInput")

            // 2. Họ và tên
            .form-group
                // ĐÃ SỬA: Xóa label, dùng placeholder và hiển thị giá trị hiện tại
                input(type="text" name="fullName" id="fullName" value=user.fullName placeholder="Họ và tên" required)

            // 3. Email
            .form-group
                // ĐÃ SỬA: Xóa label, dùng placeholder, hiển thị giá trị và XÓA disabled
                input(type="email" name="email" id="email" value=user.email placeholder="Email" required) 

            // 4. Số điện thoại
            .form-group
                // ĐÃ SỬA: Xóa label, dùng placeholder và hiển thị giá trị hiện tại
                input(type="tel" name="numberPhone" id="numberPhone" value=user.numberPhone placeholder="Số điện thoại")

            // 5. Nút Lưu
            // Dùng class .btn.btn-primary và thêm .w-100 để nút rộng hết cỡ
            button.btn.btn-primary.w-100(type="submit") Lưu thay đổi

block script 
    script(src="/js/profile.js")
block script
    script(src="/js/profile.js")

block main
    .profile-right-panel
        h3.profile-right-panel-title Thông tin cá nhân được bảo mật tuyệt đối
        p Chúng tôi cam kết bảo vệ dữ liệu của bạn. Những thay đổi sẽ giúp các dịch vụ của chúng tôi trở nên cá nhân hóa hơn.
        i.fas.fa-user-lock.profile-security-icon
